@model AlutaApp.Helpers.PaginatedList<AlutaApp.ViewModels.RoleViewModel>

@{
    ViewData["Title"] = "View Roles";
   Layout = "~/Views/Shared/_LayoutDashboard.cshtml";
}

<div class="card">
    <div class="card-header">
        <h3 class="card-title">Roles</h3>
        <a asp-action="Add" class="float-right btn btn-success">Add New </a>
    </div>
    <div class="card-body">
        <table class="table table-bordered dt-responsive nowrap">
            <thead>
                <tr>
                    <th>
                        Id
                    </th>
                    <th>
                        Name
                    </th>
                    <th>
                        Description
                    </th>
                    <th>
                        Action
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Id)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Description)
                        </td>
                        <td>
                            <a class="text-primary" asp-action="ManageRolePermissions" asp-route-roleId="@item.Id">Manage Permissions</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
    <div class="card-footer clearfix">
        @{
            var prevDisabled = !Model.HasPreviousPage ? "disabled" : "";
            var nextDisabled = !Model.HasNextPage ? "disabled" : "";
        }
        <div class="row">
            <div class="col">
                <ul class="pagination float-right">
                    <li>
                        <a asp-action="Index"
                           asp-route-pageNumber="@(Model.PageIndex - 1)"
                           class="btn btn-default @prevDisabled">
                            Previous
                        </a>
                    </li>
                    @for (var i = 1; i <= Model.TotalPages; i++)
                    {
                        <li class="page-item @(i == Model.PageIndex ? "active" : "")" style="z-index: 0;">
                            <a asp-action="Index"
                               asp-route-pageNumber="@i"
                               class="page-link">@i</a>
                        </li>
                    }
                    <li>
                        <a asp-action="Index"
                           asp-route-pageNumber="@(Model.PageIndex + 1)"
                           class="btn btn-default @nextDisabled">
                            Next
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

